{"version":3,"sources":["webpack:///./src/components/ClientesPago.vue","webpack:///./src/components/ClientesPago.vue?7ff6"],"names":["class","stat","submitted","push","placeholder","monto","value","type","onSubmit","route","clienteId","params","id","cliente","nombre","saldo","onMounted","async","clientefb","incrementarCliente","firestore","FieldValue","increment","methods","this","$router","render"],"mappings":"sJAC8BA,MAAM,I,EAChC,eAAa,UAAT,QAAI,G,GAGLA,MAAM,I,YAaT,eAA0B,UAAtB,qBAAiB,G,+BAjBX,EAAAC,KAAKC,W,iBAgBjB,eAMM,SALJ,EAEA,eAEM,YADJ,eAAuE,UAA/DF,MAAM,cAAe,QAAK,oBAAE,EAAAG,MAAA,EAAAA,QAAA,KAAO,6B,iBApB/C,eAcM,MAdN,EAcM,CAbJ,EAGF,eAEM,MAFN,EAEM,C,eADJ,eAA0E,SAAnEC,YAAY,iB,qCAA0B,EAAAC,MAAMC,MAAK,GAAEC,KAAK,U,mBAAlB,EAAAF,MAAMC,WAGrD,eAIM,YAHJ,eAES,UAFA,QAAK,oBAAE,EAAAE,UAAA,EAAAA,YAAA,IAAUR,MAAM,6BAA4B,oB,wCAqBjD,GACb,QACE,MAAMS,EAAQ,iBACRC,EAAY,eAAS,IAAMD,EAAME,OAAOC,IACxCC,EAAU,eAAS,CAAEC,OAAQ,GAAIC,MAAO,OACxCV,EAAQ,eAAS,CAAEU,MAAO,IAC1Bd,EAAO,eAAS,CAAEC,WAAW,IAE7Bc,EAAYC,UAChB,MAAMC,QAAkB,eAAWR,EAAUJ,OAC7CO,EAAQC,OAASI,EAAUJ,OAC3BD,EAAQE,MAAQG,EAAUH,OAGtBP,EAAWS,UACf,IAAIE,EAAqB,OAASC,UAAUC,WAAWC,WACpDjB,EAAMC,aAEH,eAAcI,EAAUJ,MAAO,CAAES,MAAOI,IAC9ClB,EAAKC,WAAY,GAGnB,MAAO,CAAEQ,YAAWG,UAASL,WAAUQ,YAAWX,QAAOJ,SAE3DsB,QAAS,CACP,OACEC,KAAKC,QAAQtB,KAAK,iBCtDxB,EAAOuB,OAASA,EAED","file":"js/chunk-2d0dd42b.aa1e3542.js","sourcesContent":["<template>\r\n  <div v-if=\"!stat.submitted\" class=\"\">\r\n    <h1>Pago</h1>\r\n  \r\n\r\n  <div class=\"\">\r\n    <input placeholder=\"Ingresar monto\" v-model=\"monto.value\" type=\"number\" />\r\n  </div>\r\n\r\n  <div>\r\n    <button @click=\"onSubmit\" class=\"btn btn-success my-4 w-50\">\r\n      Confirmar\r\n    </button>\r\n  </div>\r\n\r\n  </div>\r\n\r\n  <div v-else>\r\n    <h1>Â¡Pago confirmado!</h1>\r\n\r\n    <div>\r\n      <button class=\"btn-success\" @click=\"push\" > Volver a clientes </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCliente, updateCliente } from \"@/firebase\";\r\nimport firebase from \"firebase/compat/app\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { computed, reactive } from \"vue\";\r\nexport default {\r\n  setup() {\r\n    const route = useRoute();\r\n    const clienteId = computed(() => route.params.id);\r\n    const cliente = reactive({ nombre: \"\", saldo: null });\r\n    const monto = reactive({ saldo: 0 });\r\n    const stat = reactive({ submitted: false });\r\n\r\n    const onMounted = async () => {\r\n      const clientefb = await getCliente(clienteId.value);\r\n      cliente.nombre = clientefb.nombre;\r\n      cliente.saldo = clientefb.saldo;\r\n    };\r\n\r\n    const onSubmit = async () => {\r\n      let incrementarCliente = firebase.firestore.FieldValue.increment(\r\n        -monto.value\r\n      );\r\n      await updateCliente(clienteId.value, { saldo: incrementarCliente });\r\n      stat.submitted = true\r\n    };\r\n\r\n    return { clienteId, cliente, onSubmit, onMounted, monto, stat };\r\n  },\r\n  methods: {\r\n    push() {\r\n      this.$router.push(\"/clientes/\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./ClientesPago.vue?vue&type=template&id=e9d37626\"\nimport script from \"./ClientesPago.vue?vue&type=script&lang=js\"\nexport * from \"./ClientesPago.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}