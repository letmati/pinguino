(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cf02e40"],{"43b7":function(e,t,c){"use strict";c.r(t);var i=c("7a23");Object(i["v"])("data-v-46dc558e");const s=Object(i["f"])("h1",{class:"my-4"},"Pedido actual",-1),o={key:0},n=Object(i["f"])("h2",{class:"my-5"},"No hay productos en el pedido",-1),a=[n],l={key:1},d={key:0,class:"caja d-flex flex-column justify-content-between"},b={class:"col-md-12"},r={class:"d-flex justify-content-end"},u={class:"w-100"},f=["onClick"],j={id:"pedido",class:"d-flex"},O={class:"btn-toolbar d-flex justify-content-evenly align-items-start w-50 h-0",role:"toolbar"},m={class:"btn-group",role:"group","aria-label":"First group"},p=["onClick"],h={class:"mx-3"},g={class:"btn-group",role:"group","aria-label":"Second group"},v=["onClick"],y={class:"w-50"},w={class:"botonera"},k=Object(i["f"])("label",{for:"clientes"},"Cliente:",-1),x={class:"d-flex"},P={key:1,class:"d-flex my-5 justify-content-center"},C={class:"d-flex flex-column my-5"},S=Object(i["f"])("h1",null,"Â¡Pedido confirmado!",-1);function T(e,t,c,n,T,B){return Object(i["s"])(),Object(i["e"])(i["a"],null,[s,0==n.pedido?(Object(i["s"])(),Object(i["e"])("div",o,a)):(Object(i["s"])(),Object(i["e"])("div",l,[n.stat.submitted?(Object(i["s"])(),Object(i["e"])("div",P,[Object(i["f"])("div",C,[S,Object(i["f"])("button",{onClick:t[3]||(t[3]=(...e)=>B.nuevoPedido&&B.nuevoPedido(...e)),class:"btn btn-success my-5"},"Nuevo pedido")])])):(Object(i["s"])(),Object(i["e"])("div",d,[Object(i["f"])("div",b,[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(n.pedido,(e,t)=>(Object(i["s"])(),Object(i["e"])("div",{class:"list-group-item list-group-item-action list-group-item-light d-flex justify-content-between flex-column flex-wrap",key:t},[Object(i["f"])("div",r,[Object(i["f"])("h5",u,Object(i["B"])(e.nombre),1),Object(i["f"])("button",{onClick:e=>B.quitar(t),class:"x"},"X",8,f)]),Object(i["f"])("div",j,[Object(i["f"])("div",O,[Object(i["f"])("div",m,[Object(i["f"])("button",{onClick:e=>B.restar(t),type:"button",class:"btn btn-danger"},"-",8,p)]),Object(i["f"])("div",h,[Object(i["f"])("h5",null,Object(i["B"])(e.cantidad),1)]),Object(i["f"])("div",g,[Object(i["f"])("button",{onClick:e=>B.agregar(t),type:"button",class:"btn btn-success"},"+",8,v)])]),Object(i["f"])("h5",y,"$ "+Object(i["B"])(e.precioT),1)])]))),128))]),Object(i["f"])("div",w,[Object(i["f"])("form",null,[k,Object(i["H"])(Object(i["f"])("select",{name:"clientes",id:"clientes","onUpdate:modelValue":t[0]||(t[0]=e=>n.client.value=e)},[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(n.clientes,(e,t)=>(Object(i["s"])(),Object(i["e"])("option",{key:t},Object(i["B"])(e.nombre),1))),128))],512),[[i["D"],n.client.value]])]),Object(i["f"])("div",x,[Object(i["f"])("button",{onClick:t[1]||(t[1]=(...e)=>B.guardarPedido&&B.guardarPedido(...e)),class:"btn btn-warning my-4 w-100"},"Guardar pedido"),Object(i["f"])("button",{onClick:t[2]||(t[2]=(...e)=>n.onSubmit&&n.onSubmit(...e)),class:"btn btn-success my-4 w-100"},"Confirmar pedido")])])]))]))],64)}Object(i["t"])();var B=c("5502"),q=c("dc59"),D=c("4f60"),F={setup(){const e=Object(B["b"])(),t=e.getters.getPedido,c=e.getters.getCliente;var s=Object(i["w"])({});c&&(s.value=c);let o="",n="";const a=Object(q["j"])(),l=Object(i["w"])({id:""}),d=Object(i["w"])({submitted:!1}),b=Object(i["w"])({cliente:"",fecha:""});b.fecha=new Date,b.fecha=new Date(b.fecha.getTime()-6e4*b.fecha.getTimezoneOffset()).toISOString().split("T")[0];const r=async()=>{n=s.value,n=n.split(/\s(.+)/)[0],b.cliente=n,await Object(q["c"])({...t,...b}),o=s.value,o=o.split(/\s(.+)/)[1];for(let e in t){let c=D["a"].firestore.FieldValue.increment(-t[e].cantidad);await Object(q["i"])(t[e].id,{cantidad:c})}for(let e in t){let c=D["a"].firestore.FieldValue.increment(t[e].precioT);await Object(q["h"])(o,{saldo:c})}c&&e.commit("limpiarCliente"),d.submitted=!0};return{store:e,pedido:t,onSubmit:r,stat:d,form:b,clientes:a,ide:l,client:s}},computed:{getPedido(){return this.store.getters.getPedido},precioTotal(){return this.pedido}},methods:{nuevoPedido(){this.stat.submitted=!1,this.store.commit("limpiarPedido"),this.$router.push("/")},guardarPedido(){this.clientnombre=this.client.value,this.clientnombre=this.clientnombre.split(/\s(.+)/)[0],this.form.cliente=this.clientnombre,this.store.commit("guardarPedido",{...this.pedido,...this.form}),this.store.commit("limpiarPedido"),this.stat.submitted=!0},agregar(e){this.store.commit("agregar",e)},restar(e){this.store.commit("restar",e)},quitar(e){this.store.commit("quitar",e)}}};c("aedb");F.render=T,F.__scopeId="data-v-46dc558e";t["default"]=F},"50f8":function(e,t,c){},aedb:function(e,t,c){"use strict";c("50f8")}}]);
//# sourceMappingURL=chunk-2cf02e40.bed6580e.js.map